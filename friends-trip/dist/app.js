(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{6:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _jquery = __webpack_require__(7);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  //wsUrl: \'ws://localhost:5000\',\n  wsUrl: "ws://pg-api.azurewebsites.net/api",\n  httpUrl: "//pg-api.azurewebsites.net/api/",\n  //httpUrl: \'http://localhost:5000/api/\',\n  title: "Friends Trip v.0.1",\n  routes: {\n    Login: "login.html",\n    Transactions: "index.html",\n    Report: "report.html"\n  }\n};\n\n//function jsonp(url, callback) {\n//    var callbackName = \'jsonp_callback_\' + Math.round(100000 * Math.random());\n//    window[callbackName] = function(data) {\n//        delete window[callbackName];\n//        document.body.removeChild(script);\n//        callback(data);\n//    };\n\n//    var script = document.createElement(\'script\');\n//    script.src = url + (url.indexOf(\'?\') >= 0 ? \'&\' : \'?\') + \'callback=\' + callbackName;\n//    document.body.appendChild(script);\n//}\n\nvar app = {\n  EmptyRoom: {\n    Id: "",\n    Name: ""\n  },\n\n  context: {\n    Settings: {\n      filterByUserId: ""\n    },\n    CurrentUser: null,\n    CurrentRoom: null,\n    Table: []\n  },\n\n  generateUid: function generateUid() {\n    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n          v = c == "x" ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  },\n  ajax: function ajax(actionUrl, data, method, successCallback, errorCallback) {\n    var authKey = app.context.CurrentUser == null ? null : app.context.CurrentUser.AuthToken;\n    var ajaxUrl = config.httpUrl + actionUrl;\n    app.showLoading(true);\n    return _jquery2.default.ajax({\n      type: method,\n      url: ajaxUrl,\n      contentType: "application/json",\n      data: JSON.stringify(data),\n      beforeSend: function beforeSend(request) {\n        request.setRequestHeader("authToken", authKey);\n      },\n      crossDomain: true,\n      cache: false,\n      success: function success(data) {\n        if (successCallback) successCallback(data);\n      },\n      error: function error(data) {\n        app.onError(data);\n      },\n      complete: function complete() {\n        app.showLoading(false);\n        console.log("ajax completed");\n      }\n    });\n  },\n\n\n  // ajax1(actionUrl, data, method, successCallback, errorCallback) {\n  // \t//var ajaxUrl = config.httpUrl + actionUrl;\n  // \tapp.showLoading(true);\n  // \tmethod = method || "POST";\n  // \tvar xhr = new XMLHttpRequest();\n  // \txhr.open(method, config.httpUrl + actionUrl);\n  // \txhr.setRequestHeader("Content-Type", "application/json");\n  // \txhr.onload = function() {\n  // \t\tdocument.getElementById("logs").innerText = "test4";\n  // \t\tapp.showLoading(false);\n  // \t\tif (xhr.status === 200) {\n  // \t\t\tdocument.getElementById("logs").innerText = "test5";\n  // \t\t\tif (successCallback)\n  // \t\t\t\tsuccessCallback(JSON.parse(xhr.responseText));\n  // \t\t} else {\n  // \t\t\tdocument.getElementById("logs").innerText = "test6";\n  // \t\t\tif (errorCallback) errorCallback(xhr);\n  // \t\t\telse app.onError(xhr);\n  // \t\t}\n  // \t};\n  // \txhr.send(JSON.stringify(data));\n  // },\n\n  showLoading: function showLoading(show) {\n    var loading = document.getElementById("loading");\n    if (show) loading.style.display = "block";else loading.style.display = "none";\n  },\n  getFromLocalStorage: function getFromLocalStorage(key) {\n    var data = JSON.parse(window.localStorage.getItem(key));\n    return data || null;\n  },\n  logout: function logout() {\n    window.localStorage.setItem("current-user", null);\n    app.checkAuth(null);\n  },\n  init: function init(_ref) {\n    var onError = _ref.onError;\n\n    this.onError = function (data) {\n      //dunno logid for?\n      //var logId = app.generateUid();\n      console.log(data);\n      onError(data);\n    };\n    document.title = config.title;\n    app.initContext();\n    app.checkAuth(app.context.CurrentUser);\n\n    //add global loading component\n    var loading = document.createElement("div");\n    document.body.insertBefore(loading, document.body.firstChild);\n    loading.setAttribute("id", "loading");\n    loading.classList.add("loading");\n  },\n  checkAuth: function checkAuth(user) {\n    var curPage = location.pathname.toLowerCase();\n    curPage = curPage.substring(curPage.lastIndexOf("/") + 1);\n    //document.getElementById("logs").innerText = "["+curPage+"]";\n    if (user && curPage == config.routes.Login) location.href = config.routes.Transactions;else if (!user && curPage != config.routes.Login) location.href = config.routes.Login;\n  },\n  initContext: function initContext() {\n    var settings = app.getFromLocalStorage("current-settings");\n    if (settings != null) app.context.Settings = settings;\n\n    var user = app.getFromLocalStorage("current-user");\n    app.context.CurrentUser = user;\n    var room = app.getFromLocalStorage("current-room");\n    if (room == null) app.context.CurrentRoom = app.EmptyRoom;else app.context.CurrentRoom = room;\n  },\n  saveSettings: function saveSettings() {\n    window.localStorage.setItem("current-settings", JSON.stringify(app.context.Settings));\n  },\n  onLoginDone: function onLoginDone(data) {\n    var user = data.data;\n\n    window.localStorage.setItem("current-user", JSON.stringify(user));\n    app.checkAuth(user);\n    //location.href = config.routes.Transactions;\n  },\n  onGetRoomDone: function onGetRoomDone(data) {\n    var room = data.data;\n    window.localStorage.setItem("current-room", JSON.stringify(room));\n  },\n  login: function login(username, password) {\n    app.ajax("auth/login", { username: username, password: password }, "POST", app.onLoginDone);\n  },\n  register: function register(username, password) {\n    app.ajax("auth/register", { username: username, password: password }, "POST", app.onLoginDone);\n  },\n  loadCurrentRoom: function loadCurrentRoom(callback) {\n    return app.ajax("room/status", {}, "POST", function (result) {\n      app.onGetRoomDone(result);\n      callback(result);\n    });\n  }\n};\n\nexports.default = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvYXBwLmpzPzkwZTkiXSwibmFtZXMiOlsiY29uZmlnIiwid3NVcmwiLCJodHRwVXJsIiwidGl0bGUiLCJyb3V0ZXMiLCJMb2dpbiIsIlRyYW5zYWN0aW9ucyIsIlJlcG9ydCIsImFwcCIsIkVtcHR5Um9vbSIsIklkIiwiTmFtZSIsImNvbnRleHQiLCJTZXR0aW5ncyIsImZpbHRlckJ5VXNlcklkIiwiQ3VycmVudFVzZXIiLCJDdXJyZW50Um9vbSIsIlRhYmxlIiwiZ2VuZXJhdGVVaWQiLCJyZXBsYWNlIiwiciIsIk1hdGgiLCJyYW5kb20iLCJ2IiwiYyIsInRvU3RyaW5nIiwiYWpheCIsImFjdGlvblVybCIsImRhdGEiLCJtZXRob2QiLCJzdWNjZXNzQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwiYXV0aEtleSIsIkF1dGhUb2tlbiIsImFqYXhVcmwiLCJzaG93TG9hZGluZyIsIiQiLCJ0eXBlIiwidXJsIiwiY29udGVudFR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYmVmb3JlU2VuZCIsInJlcXVlc3QiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiY3Jvc3NEb21haW4iLCJjYWNoZSIsInN1Y2Nlc3MiLCJlcnJvciIsIm9uRXJyb3IiLCJjb21wbGV0ZSIsImNvbnNvbGUiLCJsb2ciLCJzaG93IiwibG9hZGluZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJnZXRGcm9tTG9jYWxTdG9yYWdlIiwia2V5IiwicGFyc2UiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibG9nb3V0Iiwic2V0SXRlbSIsImNoZWNrQXV0aCIsImluaXQiLCJpbml0Q29udGV4dCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInVzZXIiLCJjdXJQYWdlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInRvTG93ZXJDYXNlIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJocmVmIiwic2V0dGluZ3MiLCJyb29tIiwic2F2ZVNldHRpbmdzIiwib25Mb2dpbkRvbmUiLCJvbkdldFJvb21Eb25lIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVnaXN0ZXIiLCJsb2FkQ3VycmVudFJvb20iLCJjYWxsYmFjayIsInJlc3VsdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLFNBQVM7QUFDYjtBQUNBQyxTQUFPLG1DQUZNO0FBR2JDLFdBQVMsaUNBSEk7QUFJYjtBQUNBQyxTQUFPLG9CQUxNO0FBTWJDLFVBQVE7QUFDTkMsV0FBTyxZQUREO0FBRU5DLGtCQUFjLFlBRlI7QUFHTkMsWUFBUTtBQUhGO0FBTkssQ0FBZjs7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQyxNQUFNO0FBQ1ZDLGFBQVc7QUFDVEMsUUFBSSxFQURLO0FBRVRDLFVBQU07QUFGRyxHQUREOztBQU1WQyxXQUFTO0FBQ1BDLGNBQVU7QUFDUkMsc0JBQWdCO0FBRFIsS0FESDtBQUlQQyxpQkFBYSxJQUpOO0FBS1BDLGlCQUFhLElBTE47QUFNUEMsV0FBTztBQU5BLEdBTkM7O0FBZVZDLGFBZlUseUJBZUk7QUFDWixXQUFPLHVDQUF1Q0MsT0FBdkMsQ0FBK0MsT0FBL0MsRUFBd0QsYUFBSztBQUNsRSxVQUFJQyxJQUFLQyxLQUFLQyxNQUFMLEtBQWdCLEVBQWpCLEdBQXVCLENBQS9CO0FBQUEsVUFDRUMsSUFBSUMsS0FBSyxHQUFMLEdBQVdKLENBQVgsR0FBZ0JBLElBQUksR0FBTCxHQUFZLEdBRGpDO0FBRUEsYUFBT0csRUFBRUUsUUFBRixDQUFXLEVBQVgsQ0FBUDtBQUNELEtBSk0sQ0FBUDtBQUtELEdBckJTO0FBdUJWQyxNQXZCVSxnQkF1QkxDLFNBdkJLLEVBdUJNQyxJQXZCTixFQXVCWUMsTUF2QlosRUF1Qm9CQyxl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IFwianF1ZXJ5XCI7XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgLy93c1VybDogJ3dzOi8vbG9jYWxob3N0OjUwMDAnLFxuICB3c1VybDogXCJ3czovL3BnLWFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGlcIixcbiAgaHR0cFVybDogXCIvL3BnLWFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvXCIsXG4gIC8vaHR0cFVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvJyxcbiAgdGl0bGU6IFwiRnJpZW5kcyBUcmlwIHYuMC4xXCIsXG4gIHJvdXRlczoge1xuICAgIExvZ2luOiBcImxvZ2luLmh0bWxcIixcbiAgICBUcmFuc2FjdGlvbnM6IFwiaW5kZXguaHRtbFwiLFxuICAgIFJlcG9ydDogXCJyZXBvcnQuaHRtbFwiXG4gIH1cbn07XG5cbi8vZnVuY3Rpb24ganNvbnAodXJsLCBjYWxsYmFjaykge1xuLy8gICAgdmFyIGNhbGxiYWNrTmFtZSA9ICdqc29ucF9jYWxsYmFja18nICsgTWF0aC5yb3VuZCgxMDAwMDAgKiBNYXRoLnJhbmRvbSgpKTtcbi8vICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gZnVuY3Rpb24oZGF0YSkge1xuLy8gICAgICAgIGRlbGV0ZSB3aW5kb3dbY2FsbGJhY2tOYW1lXTtcbi8vICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4vLyAgICAgICAgY2FsbGJhY2soZGF0YSk7XG4vLyAgICB9O1xuXG4vLyAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4vLyAgICBzY3JpcHQuc3JjID0gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPj0gMCA/ICcmJyA6ICc/JykgKyAnY2FsbGJhY2s9JyArIGNhbGxiYWNrTmFtZTtcbi8vICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbi8vfVxuXG5jb25zdCBhcHAgPSB7XG4gIEVtcHR5Um9vbToge1xuICAgIElkOiBcIlwiLFxuICAgIE5hbWU6IFwiXCJcbiAgfSxcblxuICBjb250ZXh0OiB7XG4gICAgU2V0dGluZ3M6IHtcbiAgICAgIGZpbHRlckJ5VXNlcklkOiBcIlwiXG4gICAgfSxcbiAgICBDdXJyZW50VXNlcjogbnVsbCxcbiAgICBDdXJyZW50Um9vbTogbnVsbCxcbiAgICBUYWJsZTogW11cbiAgfSxcblxuICBnZW5lcmF0ZVVpZCgpIHtcbiAgICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xuICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXG4gICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgfSxcblxuICBhamF4KGFjdGlvblVybCwgZGF0YSwgbWV0aG9kLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICB2YXIgYXV0aEtleSA9XG4gICAgICBhcHAuY29udGV4dC5DdXJyZW50VXNlciA9PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGFwcC5jb250ZXh0LkN1cnJlbnRVc2VyLkF1dGhUb2tlbjtcbiAgICB2YXIgYWpheFVybCA9IGNvbmZpZy5odHRwVXJsICsgYWN0aW9uVXJsO1xuICAgIGFwcC5zaG93TG9hZGluZyh0cnVlKTtcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgIHVybDogYWpheFVybCxcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXCJhdXRoVG9rZW5cIiwgYXV0aEtleSk7XG4gICAgICB9LFxuICAgICAgY3Jvc3NEb21haW46IHRydWUsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHN1Y2Nlc3NDYWxsYmFjayhkYXRhKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBhcHAub25FcnJvcihkYXRhKTtcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGFwcC5zaG93TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWpheCBjb21wbGV0ZWRcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gYWpheDEoYWN0aW9uVXJsLCBkYXRhLCBtZXRob2QsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAvLyBcdC8vdmFyIGFqYXhVcmwgPSBjb25maWcuaHR0cFVybCArIGFjdGlvblVybDtcbiAgLy8gXHRhcHAuc2hvd0xvYWRpbmcodHJ1ZSk7XG4gIC8vIFx0bWV0aG9kID0gbWV0aG9kIHx8IFwiUE9TVFwiO1xuICAvLyBcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgLy8gXHR4aHIub3BlbihtZXRob2QsIGNvbmZpZy5odHRwVXJsICsgYWN0aW9uVXJsKTtcbiAgLy8gXHR4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIC8vIFx0eGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAvLyBcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dzXCIpLmlubmVyVGV4dCA9IFwidGVzdDRcIjtcbiAgLy8gXHRcdGFwcC5zaG93TG9hZGluZyhmYWxzZSk7XG4gIC8vIFx0XHRpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gIC8vIFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nc1wiKS5pbm5lclRleHQgPSBcInRlc3Q1XCI7XG4gIC8vIFx0XHRcdGlmIChzdWNjZXNzQ2FsbGJhY2spXG4gIC8vIFx0XHRcdFx0c3VjY2Vzc0NhbGxiYWNrKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpO1xuICAvLyBcdFx0fSBlbHNlIHtcbiAgLy8gXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dzXCIpLmlubmVyVGV4dCA9IFwidGVzdDZcIjtcbiAgLy8gXHRcdFx0aWYgKGVycm9yQ2FsbGJhY2spIGVycm9yQ2FsbGJhY2soeGhyKTtcbiAgLy8gXHRcdFx0ZWxzZSBhcHAub25FcnJvcih4aHIpO1xuICAvLyBcdFx0fVxuICAvLyBcdH07XG4gIC8vIFx0eGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAvLyB9LFxuXG4gIHNob3dMb2FkaW5nKHNob3cpIHtcbiAgICB2YXIgbG9hZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1wiKTtcbiAgICBpZiAoc2hvdykgbG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGVsc2UgbG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH0sXG5cbiAgZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXkpIHtcbiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICAgIHJldHVybiBkYXRhIHx8IG51bGw7XG4gIH0sXG5cbiAgbG9nb3V0KCkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnQtdXNlclwiLCBudWxsKTtcbiAgICBhcHAuY2hlY2tBdXRoKG51bGwpO1xuICB9LFxuXG4gIGluaXQoeyBvbkVycm9yIH0pIHtcbiAgICB0aGlzLm9uRXJyb3IgPSBkYXRhID0+IHtcbiAgICAgIC8vZHVubm8gbG9naWQgZm9yP1xuICAgICAgLy92YXIgbG9nSWQgPSBhcHAuZ2VuZXJhdGVVaWQoKTtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgb25FcnJvcihkYXRhKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LnRpdGxlID0gY29uZmlnLnRpdGxlO1xuICAgIGFwcC5pbml0Q29udGV4dCgpO1xuICAgIGFwcC5jaGVja0F1dGgoYXBwLmNvbnRleHQuQ3VycmVudFVzZXIpO1xuXG4gICAgLy9hZGQgZ2xvYmFsIGxvYWRpbmcgY29tcG9uZW50XG4gICAgdmFyIGxvYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGxvYWRpbmcsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgbG9hZGluZy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImxvYWRpbmdcIik7XG4gICAgbG9hZGluZy5jbGFzc0xpc3QuYWRkKFwibG9hZGluZ1wiKTtcbiAgfSxcblxuICBjaGVja0F1dGgodXNlcikge1xuICAgIHZhciBjdXJQYWdlID0gbG9jYXRpb24ucGF0aG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjdXJQYWdlID0gY3VyUGFnZS5zdWJzdHJpbmcoY3VyUGFnZS5sYXN0SW5kZXhPZihcIi9cIikgKyAxKTtcbiAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nc1wiKS5pbm5lclRleHQgPSBcIltcIitjdXJQYWdlK1wiXVwiO1xuICAgIGlmICh1c2VyICYmIGN1clBhZ2UgPT0gY29uZmlnLnJvdXRlcy5Mb2dpbilcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSBjb25maWcucm91dGVzLlRyYW5zYWN0aW9ucztcbiAgICBlbHNlIGlmICghdXNlciAmJiBjdXJQYWdlICE9IGNvbmZpZy5yb3V0ZXMuTG9naW4pXG4gICAgICBsb2NhdGlvbi5ocmVmID0gY29uZmlnLnJvdXRlcy5Mb2dpbjtcbiAgfSxcblxuICBpbml0Q29udGV4dCgpIHtcbiAgICB2YXIgc2V0dGluZ3MgPSBhcHAuZ2V0RnJvbUxvY2FsU3RvcmFnZShcImN1cnJlbnQtc2V0dGluZ3NcIik7XG4gICAgaWYgKHNldHRpbmdzICE9IG51bGwpIGFwcC5jb250ZXh0LlNldHRpbmdzID0gc2V0dGluZ3M7XG5cbiAgICB2YXIgdXNlciA9IGFwcC5nZXRGcm9tTG9jYWxTdG9yYWdlKFwiY3VycmVudC11c2VyXCIpO1xuICAgIGFwcC5jb250ZXh0LkN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICB2YXIgcm9vbSA9IGFwcC5nZXRGcm9tTG9jYWxTdG9yYWdlKFwiY3VycmVudC1yb29tXCIpO1xuICAgIGlmIChyb29tID09IG51bGwpIGFwcC5jb250ZXh0LkN1cnJlbnRSb29tID0gYXBwLkVtcHR5Um9vbTtcbiAgICBlbHNlIGFwcC5jb250ZXh0LkN1cnJlbnRSb29tID0gcm9vbTtcbiAgfSxcblxuICBzYXZlU2V0dGluZ3MoKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgXCJjdXJyZW50LXNldHRpbmdzXCIsXG4gICAgICBKU09OLnN0cmluZ2lmeShhcHAuY29udGV4dC5TZXR0aW5ncylcbiAgICApO1xuICB9LFxuXG4gIG9uTG9naW5Eb25lKGRhdGEpIHtcbiAgICB2YXIgdXNlciA9IGRhdGEuZGF0YTtcblxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnQtdXNlclwiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gICAgYXBwLmNoZWNrQXV0aCh1c2VyKTtcbiAgICAvL2xvY2F0aW9uLmhyZWYgPSBjb25maWcucm91dGVzLlRyYW5zYWN0aW9ucztcbiAgfSxcblxuICBvbkdldFJvb21Eb25lKGRhdGEpIHtcbiAgICB2YXIgcm9vbSA9IGRhdGEuZGF0YTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjdXJyZW50LXJvb21cIiwgSlNPTi5zdHJpbmdpZnkocm9vbSkpO1xuICB9LFxuXG4gIGxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIGFwcC5hamF4KFxuICAgICAgXCJhdXRoL2xvZ2luXCIsXG4gICAgICB7IHVzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkIH0sXG4gICAgICBcIlBPU1RcIixcbiAgICAgIGFwcC5vbkxvZ2luRG9uZVxuICAgICk7XG4gIH0sXG5cbiAgcmVnaXN0ZXIodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgYXBwLmFqYXgoXG4gICAgICBcImF1dGgvcmVnaXN0ZXJcIixcbiAgICAgIHsgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgIFwiUE9TVFwiLFxuICAgICAgYXBwLm9uTG9naW5Eb25lXG4gICAgKTtcbiAgfSxcblxuICBsb2FkQ3VycmVudFJvb20oY2FsbGJhY2spIHtcbiAgICByZXR1cm4gYXBwLmFqYXgoXCJyb29tL3N0YXR1c1wiLCB7fSwgXCJQT1NUXCIsIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgYXBwLm9uR2V0Um9vbURvbmUocmVzdWx0KTtcbiAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n')}},[[6,1,0]]]);