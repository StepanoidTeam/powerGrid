(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{13:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.clearStore = clearStore;\n\nvar _debounce = __webpack_require__(33);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Store = function Store(key, initialValue) {\n  _classCallCheck(this, Store);\n\n  _initialiseProps.call(this);\n\n  this.key = key;\n  var value = this.getItem(this.key) || initialValue;\n  return new Proxy(value, this.handler);\n};\n\n//todo: make as a part of store\n\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.save = (0, _debounce2.default)(function (value) {\n    _this.setItem(_this.key, value);\n  }, 500);\n  this.handler = {\n    get: function get(target, property) {\n      return target[property];\n    },\n    set: function set(target, property, value) {\n      target[property] = value;\n\n      _this.save(target);\n      return true;\n    }\n  };\n\n  this.getItem = function (key) {\n    var valueRaw = window.localStorage.getItem(key);\n    var value = JSON.parse(valueRaw);\n    return value || null;\n  };\n\n  this.setItem = function (key, value) {\n    var valueRaw = JSON.stringify(value);\n    window.localStorage.setItem(key, valueRaw);\n  };\n};\n\nexports.default = Store;\nfunction clearStore(target) {\n  Object.keys(target).forEach(function (key) {\n    delete target[key];\n  });\n  return target;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvc3RvcmUuanM/NmFiMSJdLCJuYW1lcyI6WyJjbGVhclN0b3JlIiwiU3RvcmUiLCJrZXkiLCJpbml0aWFsVmFsdWUiLCJ2YWx1ZSIsImdldEl0ZW0iLCJQcm94eSIsImhhbmRsZXIiLCJzYXZlIiwic2V0SXRlbSIsImdldCIsInRhcmdldCIsInByb3BlcnR5Iiwic2V0IiwidmFsdWVSYXciLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFzQ2dCQSxVLEdBQUFBLFU7O0FBdENoQjs7Ozs7Ozs7SUFFcUJDLEssR0E0Qm5CLGVBQVlDLEdBQVosRUFBaUJDLFlBQWpCLEVBQStCO0FBQUE7O0FBQUE7O0FBQzdCLE9BQUtELEdBQUwsR0FBV0EsR0FBWDtBQUNBLE1BQU1FLFFBQVEsS0FBS0MsT0FBTCxDQUFhLEtBQUtILEdBQWxCLEtBQTBCQyxZQUF4QztBQUNBLFNBQU8sSUFBSUcsS0FBSixDQUFVRixLQUFWLEVBQWlCLEtBQUtHLE9BQXRCLENBQVA7QUFDRCxDOztBQUdIOzs7Ozs7T0FsQ0VDLEksR0FBTyx3QkFBUyxpQkFBUztBQUN2QixVQUFLQyxPQUFMLENBQWEsTUFBS1AsR0FBbEIsRUFBdUJFLEtBQXZCO0FBQ0QsR0FGTSxFQUVKLEdBRkksQztPQUlQRyxPLEdBQVU7QUFDUkcsU0FBSyxhQUFDQyxNQUFELEVBQVNDLFFBQVQsRUFBc0I7QUFDekIsYUFBT0QsT0FBT0MsUUFBUCxDQUFQO0FBQ0QsS0FITztBQUlSQyxTQUFLLGFBQUNGLE1BQUQsRUFBU0MsUUFBVCxFQUFtQlIsS0FBbkIsRUFBNkI7QUFDaENPLGFBQU9DLFFBQVAsSUFBbUJSLEtBQW5COztBQUVBLFlBQUtJLElBQUwsQ0FBVUcsTUFBVjtBQUNBLGFBQU8sSUFBUDtBQUNEO0FBVE8sRzs7T0FZVk4sTyxHQUFVLGVBQU87QUFDZixRQUFNUyxXQUFXQyxPQUFPQyxZQUFQLENBQW9CWCxPQUFwQixDQUE0QkgsR0FBNUIsQ0FBakI7QUFDQSxRQUFJRSxRQUFRYSxLQUFLQyxLQUFMLENBQVdKLFFBQVgsQ0FBWjtBQUNBLFdBQU9WLFNBQVMsSUFBaEI7QUFDRCxHOztPQUVESyxPLEdBQVUsVUFBQ1AsR0FBRCxFQUFNRSxLQUFOLEVBQWdCO0FBQ3hCLFFBQU1VLFdBQVdHLEtBQUtFLFNBQUwsQ0FBZWYsS0FBZixDQUFqQjtBQUNBVyxXQUFPQyxZQUFQLENBQW9CUCxPQUFwQixDQUE0QlAsR0FBNUIsRUFBaUNZLFFBQWpDO0FBQ0QsRzs7O2tCQTFCa0JiLEs7QUFvQ2QsU0FBU0QsVUFBVCxDQUFvQlcsTUFBcEIsRUFBNEI7QUFDakNTLFNBQU9DLElBQVAsQ0FBWVYsTUFBWixFQUFvQlcsT0FBcEIsQ0FBNEIsVUFBU3BCLEdBQVQsRUFBYztBQUN4QyxXQUFPUyxPQUFPVCxHQUFQLENBQVA7QUFDRCxHQUZEO0FBR0EsU0FBT1MsTUFBUDtBQUNEIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlYm91bmNlIGZyb20gXCJsb2Rhc2gvZGVib3VuY2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmUge1xuICBzYXZlID0gZGVib3VuY2UodmFsdWUgPT4ge1xuICAgIHRoaXMuc2V0SXRlbSh0aGlzLmtleSwgdmFsdWUpO1xuICB9LCA1MDApO1xuXG4gIGhhbmRsZXIgPSB7XG4gICAgZ2V0OiAodGFyZ2V0LCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eV07XG4gICAgfSxcbiAgICBzZXQ6ICh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkgPT4ge1xuICAgICAgdGFyZ2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xuXG4gICAgICB0aGlzLnNhdmUodGFyZ2V0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBnZXRJdGVtID0ga2V5ID0+IHtcbiAgICBjb25zdCB2YWx1ZVJhdyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIHZhciB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWVSYXcpO1xuICAgIHJldHVybiB2YWx1ZSB8fCBudWxsO1xuICB9O1xuXG4gIHNldEl0ZW0gPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlUmF3ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlUmF3KTtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihrZXksIGluaXRpYWxWYWx1ZSkge1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRJdGVtKHRoaXMua2V5KSB8fCBpbml0aWFsVmFsdWU7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgdGhpcy5oYW5kbGVyKTtcbiAgfVxufVxuXG4vL3RvZG86IG1ha2UgYXMgYSBwYXJ0IG9mIHN0b3JlXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJTdG9yZSh0YXJnZXQpIHtcbiAgT2JqZWN0LmtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},8:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.GIT = undefined;\n\nvar _store = __webpack_require__(13);\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar config = {\n  httpUrl: "//pg-api.azurewebsites.net/api/",\n  //httpUrl: \'http://localhost:5000/api/\',\n\n  routes: {\n    Login: "login.html",\n    Transactions: "index.html",\n    Report: "report.html"\n  }\n};\n\nvar GIT = exports.GIT = {\n  //API\n  push: function push() {\n    //send new to server\n  },\n  pull: function pull() {\n    //get all from server\n  },\n  merge: function merge(oldValues, newValues) {\n    //merge local + server\n\n    // total replace for now\n    return oldValues.splice.apply(oldValues, [0, oldValues.length + 1].concat(_toConsumableArray(newValues)));\n  }\n};\n\nvar app = {\n  //todo: remove this\n  context: {},\n\n  init: function init(_ref) {\n    var updateIsLogged = _ref.updateIsLogged;\n\n    //todo: remove context prosloyka\n    app.context.CurrentUser = new _store2.default("current-user", {});\n    app.context.CurrentRoom = new _store2.default("current-room", {\n      Id: "",\n      Name: ""\n    });\n    app.context.Settings = new _store2.default("current-settings", {\n      filterBy: null\n    });\n\n    app.updateIsLogged = updateIsLogged;\n    app.updateIsLogged();\n    //todo: if empty room - redir to login?\n    var prefix = app.context.CurrentRoom.Id;\n    app.context.head = new _store2.default(prefix + ":transactions", []);\n  },\n  isLogged: function isLogged() {\n    return !!app.context.CurrentUser.Id;\n  },\n  logger: function logger(data) {\n    console.log(data);\n    return data;\n  },\n  ajax: function ajax(actionUrl) {\n    var _this = this;\n\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "POST";\n\n    var authKey = app.context.CurrentUser.AuthToken || null;\n\n    var ajaxUrl = config.httpUrl + actionUrl;\n    var body = JSON.stringify(data);\n\n    return fetch(ajaxUrl, {\n      method: method,\n      body: body,\n      headers: {\n        authToken: authKey,\n        "Content-Type": "application/json"\n      },\n      mode: "cors",\n      cache: "no-cache"\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json();\n      }\n      throw response;\n    }).then(function (response) {\n      return response.data;\n    }).then(app.logger).catch(function (response) {\n      console.log("fetch err", response);\n\n      if (response instanceof TypeError) {\n        throw response;\n      }\n\n      //todo: check if actual\n      if (response.status === 401) {\n        _this.logout();\n      }\n\n      return response.json().then(function (errorModel) {\n        console.log("errorModel", errorModel);\n        throw errorModel;\n      });\n    });\n  },\n  onLoginDone: function onLoginDone(user) {\n    Object.assign(app.context.CurrentUser, user);\n    //do we need to?\n    app.updateIsLogged();\n  },\n\n\n  //auth mapper\n  extractUser: function extractUser(response) {\n    return response.data;\n  },\n  sync: function sync(data) {\n    return app.ajax("trans/sync", data);\n  },\n  logout: function logout() {\n    (0, _store.clearStore)(app.context.CurrentUser);\n\n    app.updateIsLogged();\n  },\n  login: function login(user) {\n    return app.ajax("auth/login", user).then(app.onLoginDone);\n  },\n  register: function register(user) {\n    return app.ajax("auth/register", user).then(app.onLoginDone);\n  },\n  loadCurrentRoom: function loadCurrentRoom() {\n    //todo: handle offline error\n    return app.ajax("room/status").then(function (room) {\n      Object.assign(app.context.CurrentRoom, room);\n    });\n  }\n};\n\nexports.default = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvYXBwLmpzPzkwZTkiXSwibmFtZXMiOlsiY29uZmlnIiwiaHR0cFVybCIsInJvdXRlcyIsIkxvZ2luIiwiVHJhbnNhY3Rpb25zIiwiUmVwb3J0IiwiR0lUIiwicHVzaCIsInB1bGwiLCJtZXJnZSIsIm9sZFZhbHVlcyIsIm5ld1ZhbHVlcyIsInNwbGljZSIsImxlbmd0aCIsImFwcCIsImNvbnRleHQiLCJpbml0IiwidXBkYXRlSXNMb2dnZWQiLCJDdXJyZW50VXNlciIsIlN0b3JlIiwiQ3VycmVudFJvb20iLCJJZCIsIk5hbWUiLCJTZXR0aW5ncyIsImZpbHRlckJ5IiwicHJlZml4IiwiaGVhZCIsImlzTG9nZ2VkIiwibG9nZ2VyIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwiYWN0aW9uVXJsIiwibWV0aG9kIiwiYXV0aEtleSIsIkF1dGhUb2tlbiIsImFqYXhVcmwiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoIiwiaGVhZGVycyIsImF1dGhUb2tlbiIsIm1vZGUiLCJjYWNoZSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwianNvbiIsImNhdGNoIiwiVHlwZUVycm9yIiwic3RhdHVzIiwibG9nb3V0IiwiZXJyb3JNb2RlbCIsIm9uTG9naW5Eb25lIiwidXNlciIsIk9iamVjdCIsImFzc2lnbiIsImV4dHJhY3RVc2VyIiwic3luYyIsImxvZ2luIiwicmVnaXN0ZXIiLCJsb2FkQ3VycmVudFJvb20iLCJyb29tIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Ozs7O0FBRUEsSUFBTUEsU0FBUztBQUNiQyxXQUFTLGlDQURJO0FBRWI7O0FBRUFDLFVBQVE7QUFDTkMsV0FBTyxZQUREO0FBRU5DLGtCQUFjLFlBRlI7QUFHTkMsWUFBUTtBQUhGO0FBSkssQ0FBZjs7QUFXTyxJQUFNQyxvQkFBTTtBQUNqQjtBQUNBQyxNQUZpQixrQkFFVjtBQUNMO0FBQ0QsR0FKZ0I7QUFNakJDLE1BTmlCLGtCQU1WO0FBQ0w7QUFDRCxHQVJnQjtBQVVqQkMsT0FWaUIsaUJBVVhDLFNBVlcsRUFVQUMsU0FWQSxFQVVXO0FBQzFCOztBQUVBO0FBQ0EsV0FBT0QsVUFBVUUsTUFBVixtQkFBaUIsQ0FBakIsRUFBb0JGLFVBQVVHLE1BQVYsR0FBbUIsQ0FBdkMsNEJBQTZDRixTQUE3QyxHQUFQO0FBQ0Q7QUFmZ0IsQ0FBWjs7QUFrQlAsSUFBTUcsTUFBTTtBQUNWO0FBQ0FDLFdBQVMsRUFGQzs7QUFJVkMsTUFKVSxzQkFJZTtBQUFBLFFBQWxCQyxjQUFrQixRQUFsQkEsY0FBa0I7O0FBQ3ZCO0FBQ0FILFFBQUlDLE9BQUosQ0FBWUcsV0FBWixHQUEwQixJQUFJQyxlQUFKLGlCQUEwQixFQUExQixDQUExQjtBQUNBTCxRQUFJQyxPQUFKLENBQVlLLFdBQVosR0FBMEIsSUFBSUQsZUFBSixpQkFBMEI7QUFDbERFLFVBQUksRUFEOEM7QUFFbERDLFlBQU07QUFGNEMsS0FBMUIsQ0FBMUI7QUFJQVIsUUFBSUMsT0FBSixDQUFZUSxRQUFaLEdBQXVCLElBQUlKLGVBQUoscUJBQThCO0FBQ25ESyxnQkFBVTtBQUR5QyxLQUE5QixDQUF2Qjs7QUFJQVYsUUFBSUcsY0FBSixHQUFxQkEsY0FBckI7QUFDQUgsUUFBSUcsY0FBSjtBQUNBO0FBQ0EsUUFBTVEsU0FBU1gsSUFBSUMsT0FBSixDQUFZSyxXQUFaLENBQXdCQyxFQUF2QztBQUNBUCxRQUFJQyxPQUFKLENBQVlXLElBQVosR0FBbUIsSUFBSVAsZUFBSixDQUFhTSxNQUFiLG9CQUFvQyxFQUFwQyxDQUFuQjtBQUNELEdBcEJTO0FBc0JWRSxVQXRCVSxzQkFzQkM7QUFDVCxXQUFPLENBQUMsQ0FBQ2IsSUFBSUMsT0FBSixDQUFZRyxXQUFaLENBQXdCRyxFQUFqQztBQUNELEdBeEJTO0FBMEJWTyxRQTFCVSxrQkEwQkhDLElBMUJHLEVBMEJHO0FBQ1hDLFlBQVFDLEdBQVIsQ0FBWUYsSUFBWjtBQUNBLFdBQU9BLElBQVA7QUFDRCxHQTdCUztBQStCVkcsTUEvQlUsZ0JBK0JMQyxTQS9CSyxFQStCa0M7QUFBQTs7QUFBQSxRQUE1QkosSUFBNEIsdUVBQXJCLEVBQXFCO0FBQUEsUUFBakJLLE1BQWlCLHVFQUFSLE1BQVE7O0FBQzFDLFFBQU1DLFVBQVVyQixJQUFJQyxPQUFKLENBQVlHLFdBQVosQ0FBd0JrQixTQUF4QixJQUFxQyxJQUFyRDs7QUFFQSxRQUFNQyxVQUFVckMsT0FBT0MsT0FBUCxHQUFpQmdDLFNBQWpDO0FBQ0EsUUFBTUssT0FBT0MsS0FBS0MsU0FBTCxDQUFlWCxJQUFmLENBQWI7O0FBRUEsV0FBT1ksTUFBTUosT0FBTixFQUFlO0FBQ3BCSCxvQkFEb0I7QUFFcEJJLGdCQUZvQjtBQUdwQkksZUFBUztBQUNQQyxtQkFBV1IsT0FESjtBQUVQLHdCQUFnQjtBQUZULE9BSFc7QUFPcEJTLFlBQU0sTUFQYztBQVFwQkMsYUFBTztBQVJhLEtBQWYsRUFVSkMsSUFWSSxDQVVDLG9CQUFZO0FBQ2hCLFVBQUlDLFNBQVNDLEVBQWIsRUFBaUI7QUFDZixlQUFPRCxTQUFTRSxJQUFULEVBQVA7QUFDRDtBQUNELFlBQU1GLFFBQU47QUFDRCxLQWZJLEVBZ0JKRCxJQWhCSSxDQWdCQztBQUFBLGFBQVlDLFNBQVNsQixJQUFyQjtBQUFBLEtBaEJELEVBaUJKaUIsSUFqQkksQ0FpQkNoQyxJQUFJYyxNQWpCTCxFQWtCSnNCLEtBbEJJLENBa0JFLG9CQUFZO0FBQ2pCcEIsY0FBUUMsR0FBUixDQUFZLFdBQVosRUFBeUJnQixRQUF6Qjs7QUFFQSxVQUFJQSxvQkFBb0JJLFNBQXhCLEVBQW1DO0FBQ2pDLGNBQU1KLFFBQU47QUFDRDs7QUFFRDtBQUNBLFVBQUlBLFNBQVNLLE1BQVQsS0FBb0IsR0FBeEIsRUFBNkI7QUFDM0IsY0FBS0MsTUFBTDtBQUNEOztBQUVELGFBQU9OLFNBQVNFLElBQVQsR0FBZ0JILElBQWhCLENBQXFCLHNCQUFjO0FBQ3hDaEIsZ0JBQVFDLEdBQVIsQ0FBWSxZQUFaLEVBQTBCdUIsVUFBMUI7QUFDQSxjQUFNQSxVQUFOO0FBQ0QsT0FITSxDQUFQO0FBSUQsS0FsQ0ksQ0FBUDtBQW1DRCxHQXhFUztBQTBFVkMsYUExRVUsdUJBMEVFQyxJQTFFRixFQTBFUTtBQUNoQkMsV0FBT0MsTUFBUCxDQUFjNUMsSUFBSUMsT0FBSixDQUFZRyxXQUExQixFQUF1Q3NDLElBQXZDO0FBQ0E7QUFDQTFDLFFBQUlHLGNBQUo7QUFDRCxHQTlFUzs7O0FBZ0ZWO0FBQ0EwQyxhQWpGVSx1QkFpRkVaLFFBakZGLEVBaUZZO0FBQ3BCLFdBQU9BLFNBQVNsQixJQUFoQjtBQUNELEdBbkZTO0FBcUZWK0IsTUFyRlUsZ0JBcUZML0IsSUFyRkssRUFxRkM7QUFDVCxXQUFPZixJQUFJa0IsSUFBSixDQUFTLFlBQVQsRUFBdUJILElBQXZCLENBQVA7QUFDRCxHQXZGUztBQXlGVndCLFFBekZVLG9CQXlGRDtBQUNQLDJCQUFXdkMsSUFBSUMsT0FBSixDQUFZRyxXQUF2Qjs7QUFFQUosUUFBSUcsY0FBSjtBQUNELEdBN0ZTO0FBK0ZWNEMsT0EvRlUsaUJBK0ZKTCxJQS9GSSxFQStGRTtBQUNWLFdBQU8xQyxJQUFJa0IsSUFBSixDQUFTLFlBQVQsRUFBdUJ3QixJQUF2QixFQUE2QlYsSUFBN0IsQ0FBa0NoQyxJQUFJeUMsV0FBdEMsQ0FBUDtBQUNELEdBakdTO0FBbUdWTyxVQW5HVSxvQkFtR0ROLElBbkdDLEVBbUdLO0FBQ2IsV0FBTzFDLElBQUlrQixJQUFKLENBQVMsZUFBVCxFQUEwQndCLElBQTFCLEVBQWdDVixJQUFoQyxDQUFxQ2hDLElBQUl5QyxXQUF6QyxDQUFQO0FBQ0QsR0FyR1M7QUF1R1ZRLGlCQXZHVSw2QkF1R1E7QUFDaEI7QUFDQSxXQUFPakQsSUFBSWtCLElBQUosQ0FBUyxhQUFULEVBQXdCYyxJQUF4QixDQUE2QixnQkFBUTtBQUMxQ1csYUFBT0MsTUFBUCxDQUFjNUMsSUFBSUMsT0FBSixDQUFZSyxXQUExQixFQUF1QzRDLElBQXZDO0FBQ0QsS0FGTSxDQUFQO0FBR0Q7QUE1R1MsQ0FBWjs7a0JBK0dlbEQsRyIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0b3JlLCB7IGNsZWFyU3RvcmUgfSBmcm9tIFwiLi9zdG9yZVwiO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIGh0dHBVcmw6IFwiLy9wZy1hcGkuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL1wiLFxuICAvL2h0dHBVcmw6ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpLycsXG5cbiAgcm91dGVzOiB7XG4gICAgTG9naW46IFwibG9naW4uaHRtbFwiLFxuICAgIFRyYW5zYWN0aW9uczogXCJpbmRleC5odG1sXCIsXG4gICAgUmVwb3J0OiBcInJlcG9ydC5odG1sXCJcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IEdJVCA9IHtcbiAgLy9BUElcbiAgcHVzaCgpIHtcbiAgICAvL3NlbmQgbmV3IHRvIHNlcnZlclxuICB9LFxuXG4gIHB1bGwoKSB7XG4gICAgLy9nZXQgYWxsIGZyb20gc2VydmVyXG4gIH0sXG5cbiAgbWVyZ2Uob2xkVmFsdWVzLCBuZXdWYWx1ZXMpIHtcbiAgICAvL21lcmdlIGxvY2FsICsgc2VydmVyXG5cbiAgICAvLyB0b3RhbCByZXBsYWNlIGZvciBub3dcbiAgICByZXR1cm4gb2xkVmFsdWVzLnNwbGljZSgwLCBvbGRWYWx1ZXMubGVuZ3RoICsgMSwgLi4ubmV3VmFsdWVzKTtcbiAgfVxufTtcblxuY29uc3QgYXBwID0ge1xuICAvL3RvZG86IHJlbW92ZSB0aGlzXG4gIGNvbnRleHQ6IHt9LFxuXG4gIGluaXQoeyB1cGRhdGVJc0xvZ2dlZCB9KSB7XG4gICAgLy90b2RvOiByZW1vdmUgY29udGV4dCBwcm9zbG95a2FcbiAgICBhcHAuY29udGV4dC5DdXJyZW50VXNlciA9IG5ldyBTdG9yZShgY3VycmVudC11c2VyYCwge30pO1xuICAgIGFwcC5jb250ZXh0LkN1cnJlbnRSb29tID0gbmV3IFN0b3JlKGBjdXJyZW50LXJvb21gLCB7XG4gICAgICBJZDogXCJcIixcbiAgICAgIE5hbWU6IFwiXCJcbiAgICB9KTtcbiAgICBhcHAuY29udGV4dC5TZXR0aW5ncyA9IG5ldyBTdG9yZShgY3VycmVudC1zZXR0aW5nc2AsIHtcbiAgICAgIGZpbHRlckJ5OiBudWxsXG4gICAgfSk7XG5cbiAgICBhcHAudXBkYXRlSXNMb2dnZWQgPSB1cGRhdGVJc0xvZ2dlZDtcbiAgICBhcHAudXBkYXRlSXNMb2dnZWQoKTtcbiAgICAvL3RvZG86IGlmIGVtcHR5IHJvb20gLSByZWRpciB0byBsb2dpbj9cbiAgICBjb25zdCBwcmVmaXggPSBhcHAuY29udGV4dC5DdXJyZW50Um9vbS5JZDtcbiAgICBhcHAuY29udGV4dC5oZWFkID0gbmV3IFN0b3JlKGAke3ByZWZpeH06dHJhbnNhY3Rpb25zYCwgW10pO1xuICB9LFxuXG4gIGlzTG9nZ2VkKCkge1xuICAgIHJldHVybiAhIWFwcC5jb250ZXh0LkN1cnJlbnRVc2VyLklkO1xuICB9LFxuXG4gIGxvZ2dlcihkYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG5cbiAgYWpheChhY3Rpb25VcmwsIGRhdGEgPSB7fSwgbWV0aG9kID0gXCJQT1NUXCIpIHtcbiAgICBjb25zdCBhdXRoS2V5ID0gYXBwLmNvbnRleHQuQ3VycmVudFVzZXIuQXV0aFRva2VuIHx8IG51bGw7XG5cbiAgICBjb25zdCBhamF4VXJsID0gY29uZmlnLmh0dHBVcmwgKyBhY3Rpb25Vcmw7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXG4gICAgcmV0dXJuIGZldGNoKGFqYXhVcmwsIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIGJvZHksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhUb2tlbjogYXV0aEtleSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBtb2RlOiBcImNvcnNcIixcbiAgICAgIGNhY2hlOiBcIm5vLWNhY2hlXCJcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpXG4gICAgICAudGhlbihhcHAubG9nZ2VyKVxuICAgICAgLmNhdGNoKHJlc3BvbnNlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJmZXRjaCBlcnJcIiwgcmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvOiBjaGVjayBpZiBhY3R1YWxcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgdGhpcy5sb2dvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbihlcnJvck1vZGVsID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yTW9kZWxcIiwgZXJyb3JNb2RlbCk7XG4gICAgICAgICAgdGhyb3cgZXJyb3JNb2RlbDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfSxcblxuICBvbkxvZ2luRG9uZSh1c2VyKSB7XG4gICAgT2JqZWN0LmFzc2lnbihhcHAuY29udGV4dC5DdXJyZW50VXNlciwgdXNlcik7XG4gICAgLy9kbyB3ZSBuZWVkIHRvP1xuICAgIGFwcC51cGRhdGVJc0xvZ2dlZCgpO1xuICB9LFxuXG4gIC8vYXV0aCBtYXBwZXJcbiAgZXh0cmFjdFVzZXIocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcblxuICBzeW5jKGRhdGEpIHtcbiAgICByZXR1cm4gYXBwLmFqYXgoXCJ0cmFucy9zeW5jXCIsIGRhdGEpO1xuICB9LFxuXG4gIGxvZ291dCgpIHtcbiAgICBjbGVhclN0b3JlKGFwcC5jb250ZXh0LkN1cnJlbnRVc2VyKTtcblxuICAgIGFwcC51cGRhdGVJc0xvZ2dlZCgpO1xuICB9LFxuXG4gIGxvZ2luKHVzZXIpIHtcbiAgICByZXR1cm4gYXBwLmFqYXgoXCJhdXRoL2xvZ2luXCIsIHVzZXIpLnRoZW4oYXBwLm9uTG9naW5Eb25lKTtcbiAgfSxcblxuICByZWdpc3Rlcih1c2VyKSB7XG4gICAgcmV0dXJuIGFwcC5hamF4KFwiYXV0aC9yZWdpc3RlclwiLCB1c2VyKS50aGVuKGFwcC5vbkxvZ2luRG9uZSk7XG4gIH0sXG5cbiAgbG9hZEN1cnJlbnRSb29tKCkge1xuICAgIC8vdG9kbzogaGFuZGxlIG9mZmxpbmUgZXJyb3JcbiAgICByZXR1cm4gYXBwLmFqYXgoXCJyb29tL3N0YXR1c1wiKS50aGVuKHJvb20gPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihhcHAuY29udGV4dC5DdXJyZW50Um9vbSwgcm9vbSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n')}},[[8,1,0]]]);