(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{6:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _jquery = __webpack_require__(7);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  //wsUrl: \'ws://localhost:5000\',\n  wsUrl: "ws://pg-api.azurewebsites.net/api",\n  httpUrl: "//pg-api.azurewebsites.net/api/",\n  //httpUrl: \'http://localhost:5000/api/\',\n  title: "Friends Trip v.0.1",\n  routes: {\n    Login: "login.html",\n    Transactions: "index.html",\n    Report: "report.html"\n  }\n};\n\n//function jsonp(url, callback) {\n//    var callbackName = \'jsonp_callback_\' + Math.round(100000 * Math.random());\n//    window[callbackName] = function(data) {\n//        delete window[callbackName];\n//        document.body.removeChild(script);\n//        callback(data);\n//    };\n\n//    var script = document.createElement(\'script\');\n//    script.src = url + (url.indexOf(\'?\') >= 0 ? \'&\' : \'?\') + \'callback=\' + callbackName;\n//    document.body.appendChild(script);\n//}\n\nvar app = {\n  EmptyRoom: {\n    Id: "",\n    Name: ""\n  },\n\n  context: {\n    Settings: {\n      filterByUserId: ""\n    },\n    CurrentUser: null,\n    CurrentRoom: null,\n    Table: []\n  },\n\n  generateUid: function generateUid() {\n    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n          v = c == "x" ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  },\n  onError: function onError(data) {\n    var logTxt = "⛔️ ERROR";\n    var errModel = JSON.parse(data.responseText);\n    app.log(logTxt + " - " + (errModel.message || "kakoy-to bag"));\n    console.log(JSON.stringify(data));\n  },\n  ajax: function ajax(actionUrl, data, method, successCallback, errorCallback) {\n    var authKey = app.context.CurrentUser == null ? null : app.context.CurrentUser.AuthToken;\n    var ajaxUrl = config.httpUrl + actionUrl;\n    app.showLoading(true);\n    return _jquery2.default.ajax({\n      type: method,\n      url: ajaxUrl,\n      contentType: "application/json",\n      data: JSON.stringify(data),\n      beforeSend: function beforeSend(request) {\n        request.setRequestHeader("authToken", authKey);\n      },\n      crossDomain: true,\n      cache: false,\n      success: function success(data) {\n        if (successCallback) successCallback(data);\n      },\n      error: function error(data) {\n        app.onError(data);\n      },\n      complete: function complete() {\n        app.showLoading(false);\n        console.log("ajax completed");\n      }\n    });\n  },\n\n\n  // ajax1(actionUrl, data, method, successCallback, errorCallback) {\n  // \t//var ajaxUrl = config.httpUrl + actionUrl;\n  // \tapp.showLoading(true);\n  // \tmethod = method || "POST";\n  // \tvar xhr = new XMLHttpRequest();\n  // \txhr.open(method, config.httpUrl + actionUrl);\n  // \txhr.setRequestHeader("Content-Type", "application/json");\n  // \txhr.onload = function() {\n  // \t\tdocument.getElementById("logs").innerText = "test4";\n  // \t\tapp.showLoading(false);\n  // \t\tif (xhr.status === 200) {\n  // \t\t\tdocument.getElementById("logs").innerText = "test5";\n  // \t\t\tif (successCallback)\n  // \t\t\t\tsuccessCallback(JSON.parse(xhr.responseText));\n  // \t\t} else {\n  // \t\t\tdocument.getElementById("logs").innerText = "test6";\n  // \t\t\tif (errorCallback) errorCallback(xhr);\n  // \t\t\telse app.onError(xhr);\n  // \t\t}\n  // \t};\n  // \txhr.send(JSON.stringify(data));\n  // },\n\n  showLoading: function showLoading(show) {\n    var loading = document.getElementById("loading");\n    if (show) loading.style.display = "block";else loading.style.display = "none";\n  },\n  getFromLocalStorage: function getFromLocalStorage(key) {\n    var data = JSON.parse(window.localStorage.getItem(key));\n    return data || null;\n  },\n  log: function log(text) {\n    var logBox = document.getElementById("app-log");\n    logBox.innerText = text;\n    logBox.style.display = "block";\n    var logId = app.generateUid();\n    logBox.logId = logId;\n    setTimeout(function () {\n      if (logId == logBox.logId) {\n        logBox.innerText = "";\n        logBox.style.display = "none";\n      }\n    }, 4000);\n  },\n  logout: function logout() {\n    window.localStorage.setItem("current-user", null);\n    app.checkAuth(null);\n  },\n  init: function init() {\n    document.title = config.title;\n    app.initContext();\n    app.checkAuth(app.context.CurrentUser);\n\n    //add global loading component\n    var loading = document.createElement("div");\n    document.body.insertBefore(loading, document.body.firstChild);\n    loading.setAttribute("id", "loading");\n    loading.classList.add("loading");\n  },\n  checkAuth: function checkAuth(user) {\n    var curPage = location.pathname.toLowerCase();\n    curPage = curPage.substring(curPage.lastIndexOf("/") + 1);\n    //document.getElementById("logs").innerText = "["+curPage+"]";\n    if (user && curPage == config.routes.Login) location.href = config.routes.Transactions;else if (!user && curPage != config.routes.Login) location.href = config.routes.Login;\n  },\n  initContext: function initContext() {\n    var settings = app.getFromLocalStorage("current-settings");\n    if (settings != null) app.context.Settings = settings;\n\n    var user = app.getFromLocalStorage("current-user");\n    app.context.CurrentUser = user;\n    var room = app.getFromLocalStorage("current-room");\n    if (room == null) app.context.CurrentRoom = app.EmptyRoom;else app.context.CurrentRoom = room;\n  },\n  saveSettings: function saveSettings() {\n    window.localStorage.setItem("current-settings", JSON.stringify(app.context.Settings));\n  },\n  onLoginDone: function onLoginDone(data) {\n    var user = data.data;\n\n    window.localStorage.setItem("current-user", JSON.stringify(user));\n    app.checkAuth(user);\n    //location.href = config.routes.Transactions;\n  },\n  onGetRoomDone: function onGetRoomDone(data) {\n    var room = data.data;\n    window.localStorage.setItem("current-room", JSON.stringify(room));\n  },\n  login: function login(username, password) {\n    app.ajax("auth/login", { username: username, password: password }, "POST", app.onLoginDone);\n  },\n  register: function register(username, password) {\n    app.ajax("auth/register", { username: username, password: password }, "POST", app.onLoginDone);\n  },\n  loadCurrentRoom: function loadCurrentRoom(callback) {\n    return app.ajax("room/status", {}, "POST", function (result) {\n      app.onGetRoomDone(result);\n      callback(result);\n    });\n  }\n};\n\nexports.default = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvYXBwLmpzPzkwZTkiXSwibmFtZXMiOlsiY29uZmlnIiwid3NVcmwiLCJodHRwVXJsIiwidGl0bGUiLCJyb3V0ZXMiLCJMb2dpbiIsIlRyYW5zYWN0aW9ucyIsIlJlcG9ydCIsImFwcCIsIkVtcHR5Um9vbSIsIklkIiwiTmFtZSIsImNvbnRleHQiLCJTZXR0aW5ncyIsImZpbHRlckJ5VXNlcklkIiwiQ3VycmVudFVzZXIiLCJDdXJyZW50Um9vbSIsIlRhYmxlIiwiZ2VuZXJhdGVVaWQiLCJyZXBsYWNlIiwiciIsIk1hdGgiLCJyYW5kb20iLCJ2IiwiYyIsInRvU3RyaW5nIiwib25FcnJvciIsImRhdGEiLCJsb2dUeHQiLCJlcnJNb2RlbCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImxvZyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwic3RyaW5naWZ5IiwiYWpheCIsImFjdGlvblVybCIsIm1ldGhvZCIsInN1Y2Nlc3NDYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJhdXRoS2V5IiwiQXV0aFRva2VuIiwiYWpheFVybCIsInNob3dMb2FkaW5nIiwiJCIsInR5cGUiLCJ1cmwiLCJjb250ZW50VHlwZSIsImJlZm9yZVNlbmQiLCJyZXF1ZXN0Iiwic2V0UmVxdWVzdEhlYWRlciIsImNyb3NzRG9tYWluIiwiY2FjaGUiLCJzdWNjZXNzIiwiZXJyb3IiLCJjb21wbGV0ZSIsInNob3ciLCJsb2FkaW5nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImdldEZyb21Mb2NhbFN0b3JhZ2UiLCJrZXkiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidGV4dCIsImxvZ0JveCIsImlubmVyVGV4dCIsImxvZ0lkIiwic2V0VGltZW91dCIsImxvZ291dCIsInNldEl0ZW0iLCJjaGVja0F1dGgiLCJpbml0IiwiaW5pdENvbnRleHQiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ1c2VyIiwiY3VyUGFnZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJ0b0xvd2VyQ2FzZSIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwiaHJlZiIsInNldHRpbmdzIiwicm9vbSIsInNhdmVTZXR0aW5ncyIsIm9uTG9naW5Eb25lIiwib25HZXRSb29tRG9uZSIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlZ2lzdGVyIiwibG9hZEN1cnJlbnRSb29tIiwiY2FsbGJhY2siLCJyZXN1bHQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFQSxJQUFNQSxTQUFTO0FBQ2I7QUFDQUMsU0FBTyxtQ0FGTTtBQUdiQyxXQUFTLGlDQUhJO0FBSWI7QUFDQUMsU0FBTyxvQkFMTTtBQU1iQyxVQUFRO0FBQ05DLFdBQU8sWUFERDtBQUVOQyxrQkFBYyxZQUZSO0FBR05DLFlBQVE7QUFIRjtBQU5LLENBQWY7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUMsTUFBTTtBQUNWQyxhQUFXO0FBQ1RDLFFBQUksRUFESztBQUVUQyxVQUFNO0FBRkcsR0FERDs7QUFNVkMsV0FBUztBQUNQQyxjQUFVO0FBQ1JDLHNCQUFnQjtBQURSLEtBREg7QUFJUEMsaUJBQWEsSUFKTjtBQUtQQyxpQkFBYSxJQUxOO0FBTVBDLFdBQU87QUFOQSxHQU5DOztBQWVWQyxhQWZVLHlCQWVJO0FBQ1osV0FBTyx1Q0FBdUNDLE9BQXZDLENBQStDLE9BQS9DLEVBQXdELGFBQUs7QUFDbEUsVUFBSUMsSUFBS0MsS0FBS0MsTUFBTCxLQUFnQixFQUFqQixHQUF1QixDQUEvQjtBQUFBLFVBQ0VDLElBQUlDLEtBQUssR0FBTCxHQUFXSixDQUFYLEdBQWdCQSxJQUFJLEdBQUwsR0FBWSxHQURqQztBQUVBLGFBQU9HLEVBQUVFLFFBQUYsQ0FBVyxFQUFY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S0ksRUFzS01DLFFBdEtOLEVBc0tnQjtBQUN4QjdGLFFBQUk2QixJQUFKLENBQ0UsWUFERixFQUVFLEVBQUUrRCxVQUFVQSxRQUFaLEVBQXNCQyxVQUFVQSxRQUFoQyxFQUZGLEVBR0UsTUFIRixFQUlFN0YsSUFBSXlGLFdBSk47QUFNRCxHQTdLUztBQStLVkssVUEvS1Usb0JBK0tERixRQS9LQyxFQStLU0MsUUEvS1QsRUErS21CO0FBQzNCN0YsUUFBSTZCLElBQUosQ0FDRSxlQURGLEVBRUUsRUFBRStELFVBQVVBLFFBQVosRUFBc0JDLFVBQVVBLFFBQWhDLEVBRkYsRUFHRSxNQUhGLEVBSUU3RixJQUFJeUYsV0FKTjtBQU1ELEdBdExTO0FBd0xWTSxpQkF4TFUsMkJBd0xNQyxRQXhMTixFQXdMZ0I7QUFDeEIsV0FBT2hHLElBQUk2QixJQUFKLENBQVMsYUFBVCxFQUF3QixFQUF4QixFQUE0QixNQUE1QixFQUFvQyxVQUFTb0UsTUFBVCxFQUFpQjtBQUMxRGpHLFVBQUkwRixhQUFKLENBQWtCTyxNQUFsQjtBQUNBRCxlQUFTQyxNQUFUO0FBQ0QsS0FITSxDQUFQO0FBSUQ7QUE3TFMsQ0FBWjs7a0JBZ01lakcsRyIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIC8vd3NVcmw6ICd3czovL2xvY2FsaG9zdDo1MDAwJyxcbiAgd3NVcmw6IFwid3M6Ly9wZy1hcGkuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpXCIsXG4gIGh0dHBVcmw6IFwiLy9wZy1hcGkuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL1wiLFxuICAvL2h0dHBVcmw6ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpLycsXG4gIHRpdGxlOiBcIkZyaWVuZHMgVHJpcCB2LjAuMVwiLFxuICByb3V0ZXM6IHtcbiAgICBMb2dpbjogXCJsb2dpbi5odG1sXCIsXG4gICAgVHJhbnNhY3Rpb25zOiBcImluZGV4Lmh0bWxcIixcbiAgICBSZXBvcnQ6IFwicmVwb3J0Lmh0bWxcIlxuICB9XG59O1xuXG4vL2Z1bmN0aW9uIGpzb25wKHVybCwgY2FsbGJhY2spIHtcbi8vICAgIHZhciBjYWxsYmFja05hbWUgPSAnanNvbnBfY2FsbGJhY2tfJyArIE1hdGgucm91bmQoMTAwMDAwICogTWF0aC5yYW5kb20oKSk7XG4vLyAgICB3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IGZ1bmN0aW9uKGRhdGEpIHtcbi8vICAgICAgICBkZWxldGUgd2luZG93W2NhbGxiYWNrTmFtZV07XG4vLyAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuLy8gICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuLy8gICAgfTtcblxuLy8gICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuLy8gICAgc2NyaXB0LnNyYyA9IHVybCArICh1cmwuaW5kZXhPZignPycpID49IDAgPyAnJicgOiAnPycpICsgJ2NhbGxiYWNrPScgKyBjYWxsYmFja05hbWU7XG4vLyAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4vL31cblxuY29uc3QgYXBwID0ge1xuICBFbXB0eVJvb206IHtcbiAgICBJZDogXCJcIixcbiAgICBOYW1lOiBcIlwiXG4gIH0sXG5cbiAgY29udGV4dDoge1xuICAgIFNldHRpbmdzOiB7XG4gICAgICBmaWx0ZXJCeVVzZXJJZDogXCJcIlxuICAgIH0sXG4gICAgQ3VycmVudFVzZXI6IG51bGwsXG4gICAgQ3VycmVudFJvb206IG51bGwsXG4gICAgVGFibGU6IFtdXG4gIH0sXG5cbiAgZ2VuZXJhdGVVaWQoKSB7XG4gICAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcbiAgICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgICB2ID0gYyA9PSBcInhcIiA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG4gIH0sXG5cbiAgb25FcnJvcihkYXRhKSB7XG4gICAgdmFyIGxvZ1R4dCA9IFwi4puU77iPIEVSUk9SXCI7XG4gICAgdmFyIGVyck1vZGVsID0gSlNPTi5wYXJzZShkYXRhLnJlc3BvbnNlVGV4dCk7XG4gICAgYXBwLmxvZyhgJHtsb2dUeHR9IC0gJHtlcnJNb2RlbC5tZXNzYWdlIHx8IFwia2Frb3ktdG8gYmFnXCJ9YCk7XG4gICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICB9LFxuXG4gIGFqYXgoYWN0aW9uVXJsLCBkYXRhLCBtZXRob2QsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgIHZhciBhdXRoS2V5ID1cbiAgICAgIGFwcC5jb250ZXh0LkN1cnJlbnRVc2VyID09IG51bGxcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogYXBwLmNvbnRleHQuQ3VycmVudFVzZXIuQXV0aFRva2VuO1xuICAgIHZhciBhamF4VXJsID0gY29uZmlnLmh0dHBVcmwgKyBhY3Rpb25Vcmw7XG4gICAgYXBwLnNob3dMb2FkaW5nKHRydWUpO1xuICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgdHlwZTogbWV0aG9kLFxuICAgICAgdXJsOiBhamF4VXJsLFxuICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihcImF1dGhUb2tlblwiLCBhdXRoS2V5KTtcbiAgICAgIH0sXG4gICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykgc3VjY2Vzc0NhbGxiYWNrKGRhdGEpO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGFwcC5vbkVycm9yKGRhdGEpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgYXBwLnNob3dMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJhamF4IGNvbXBsZXRlZFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvLyBhamF4MShhY3Rpb25VcmwsIGRhdGEsIG1ldGhvZCwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gIC8vIFx0Ly92YXIgYWpheFVybCA9IGNvbmZpZy5odHRwVXJsICsgYWN0aW9uVXJsO1xuICAvLyBcdGFwcC5zaG93TG9hZGluZyh0cnVlKTtcbiAgLy8gXHRtZXRob2QgPSBtZXRob2QgfHwgXCJQT1NUXCI7XG4gIC8vIFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAvLyBcdHhoci5vcGVuKG1ldGhvZCwgY29uZmlnLmh0dHBVcmwgKyBhY3Rpb25VcmwpO1xuICAvLyBcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgLy8gXHR4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIC8vIFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ3NcIikuaW5uZXJUZXh0ID0gXCJ0ZXN0NFwiO1xuICAvLyBcdFx0YXBwLnNob3dMb2FkaW5nKGZhbHNlKTtcbiAgLy8gXHRcdGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgLy8gXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dzXCIpLmlubmVyVGV4dCA9IFwidGVzdDVcIjtcbiAgLy8gXHRcdFx0aWYgKHN1Y2Nlc3NDYWxsYmFjaylcbiAgLy8gXHRcdFx0XHRzdWNjZXNzQ2FsbGJhY2soSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSk7XG4gIC8vIFx0XHR9IGVsc2Uge1xuICAvLyBcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ3NcIikuaW5uZXJUZXh0ID0gXCJ0ZXN0NlwiO1xuICAvLyBcdFx0XHRpZiAoZXJyb3JDYWxsYmFjaykgZXJyb3JDYWxsYmFjayh4aHIpO1xuICAvLyBcdFx0XHRlbHNlIGFwcC5vbkVycm9yKHhocik7XG4gIC8vIFx0XHR9XG4gIC8vIFx0fTtcbiAgLy8gXHR4aHIuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIC8vIH0sXG5cbiAgc2hvd0xvYWRpbmcoc2hvdykge1xuICAgIHZhciBsb2FkaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nXCIpO1xuICAgIGlmIChzaG93KSBsb2FkaW5nLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgZWxzZSBsb2FkaW5nLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfSxcblxuICBnZXRGcm9tTG9jYWxTdG9yYWdlKGtleSkge1xuICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgcmV0dXJuIGRhdGEgfHwgbnVsbDtcbiAgfSxcblxuICBsb2codGV4dCkge1xuICAgIHZhciBsb2dCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcC1sb2dcIik7XG4gICAgbG9nQm94LmlubmVyVGV4dCA9IHRleHQ7XG4gICAgbG9nQm94LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgdmFyIGxvZ0lkID0gYXBwLmdlbmVyYXRlVWlkKCk7XG4gICAgbG9nQm94LmxvZ0lkID0gbG9nSWQ7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChsb2dJZCA9PSBsb2dCb3gubG9nSWQpIHtcbiAgICAgICAgbG9nQm94LmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgIGxvZ0JveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfSwgNDAwMCk7XG4gIH0sXG5cbiAgbG9nb3V0KCkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnQtdXNlclwiLCBudWxsKTtcbiAgICBhcHAuY2hlY2tBdXRoKG51bGwpO1xuICB9LFxuXG4gIGluaXQoKSB7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBjb25maWcudGl0bGU7XG4gICAgYXBwLmluaXRDb250ZXh0KCk7XG4gICAgYXBwLmNoZWNrQXV0aChhcHAuY29udGV4dC5DdXJyZW50VXNlcik7XG5cbiAgICAvL2FkZCBnbG9iYWwgbG9hZGluZyBjb21wb25lbnRcbiAgICB2YXIgbG9hZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUobG9hZGluZywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICBsb2FkaW5nLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibG9hZGluZ1wiKTtcbiAgICBsb2FkaW5nLmNsYXNzTGlzdC5hZGQoXCJsb2FkaW5nXCIpO1xuICB9LFxuXG4gIGNoZWNrQXV0aCh1c2VyKSB7XG4gICAgdmFyIGN1clBhZ2UgPSBsb2NhdGlvbi5wYXRobmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGN1clBhZ2UgPSBjdXJQYWdlLnN1YnN0cmluZyhjdXJQYWdlLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dzXCIpLmlubmVyVGV4dCA9IFwiW1wiK2N1clBhZ2UrXCJdXCI7XG4gICAgaWYgKHVzZXIgJiYgY3VyUGFnZSA9PSBjb25maWcucm91dGVzLkxvZ2luKVxuICAgICAgbG9jYXRpb24uaHJlZiA9IGNvbmZpZy5yb3V0ZXMuVHJhbnNhY3Rpb25zO1xuICAgIGVsc2UgaWYgKCF1c2VyICYmIGN1clBhZ2UgIT0gY29uZmlnLnJvdXRlcy5Mb2dpbilcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSBjb25maWcucm91dGVzLkxvZ2luO1xuICB9LFxuXG4gIGluaXRDb250ZXh0KCkge1xuICAgIHZhciBzZXR0aW5ncyA9IGFwcC5nZXRGcm9tTG9jYWxTdG9yYWdlKFwiY3VycmVudC1zZXR0aW5nc1wiKTtcbiAgICBpZiAoc2V0dGluZ3MgIT0gbnVsbCkgYXBwLmNvbnRleHQuU2V0dGluZ3MgPSBzZXR0aW5ncztcblxuICAgIHZhciB1c2VyID0gYXBwLmdldEZyb21Mb2NhbFN0b3JhZ2UoXCJjdXJyZW50LXVzZXJcIik7XG4gICAgYXBwLmNvbnRleHQuQ3VycmVudFVzZXIgPSB1c2VyO1xuICAgIHZhciByb29tID0gYXBwLmdldEZyb21Mb2NhbFN0b3JhZ2UoXCJjdXJyZW50LXJvb21cIik7XG4gICAgaWYgKHJvb20gPT0gbnVsbCkgYXBwLmNvbnRleHQuQ3VycmVudFJvb20gPSBhcHAuRW1wdHlSb29tO1xuICAgIGVsc2UgYXBwLmNvbnRleHQuQ3VycmVudFJvb20gPSByb29tO1xuICB9LFxuXG4gIHNhdmVTZXR0aW5ncygpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICBcImN1cnJlbnQtc2V0dGluZ3NcIixcbiAgICAgIEpTT04uc3RyaW5naWZ5KGFwcC5jb250ZXh0LlNldHRpbmdzKVxuICAgICk7XG4gIH0sXG5cbiAgb25Mb2dpbkRvbmUoZGF0YSkge1xuICAgIHZhciB1c2VyID0gZGF0YS5kYXRhO1xuXG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudC11c2VyXCIsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcbiAgICBhcHAuY2hlY2tBdXRoKHVzZXIpO1xuICAgIC8vbG9jYXRpb24uaHJlZiA9IGNvbmZpZy5yb3V0ZXMuVHJhbnNhY3Rpb25zO1xuICB9LFxuXG4gIG9uR2V0Um9vbURvbmUoZGF0YSkge1xuICAgIHZhciByb29tID0gZGF0YS5kYXRhO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnQtcm9vbVwiLCBKU09OLnN0cmluZ2lmeShyb29tKSk7XG4gIH0sXG5cbiAgbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgYXBwLmFqYXgoXG4gICAgICBcImF1dGgvbG9naW5cIixcbiAgICAgIHsgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgIFwiUE9TVFwiLFxuICAgICAgYXBwLm9uTG9naW5Eb25lXG4gICAgKTtcbiAgfSxcblxuICByZWdpc3Rlcih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICBhcHAuYWpheChcbiAgICAgIFwiYXV0aC9yZWdpc3RlclwiLFxuICAgICAgeyB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZCB9LFxuICAgICAgXCJQT1NUXCIsXG4gICAgICBhcHAub25Mb2dpbkRvbmVcbiAgICApO1xuICB9LFxuXG4gIGxvYWRDdXJyZW50Um9vbShjYWxsYmFjaykge1xuICAgIHJldHVybiBhcHAuYWpheChcInJvb20vc3RhdHVzXCIsIHt9LCBcIlBPU1RcIiwgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICBhcHAub25HZXRSb29tRG9uZShyZXN1bHQpO1xuICAgICAgY2FsbGJhY2socmVzdWx0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')}},[[6,1,0]]]);